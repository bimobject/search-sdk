<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-communicatorService.html">communicatorService</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-communicatorService.html#.abortSearch">abortSearch</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-communicatorService.html#.authURL">authURL</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-communicatorService.html#.downloadProduct">downloadProduct</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-communicatorService.html#.getProduct">getProduct</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-communicatorService.html#.getProductPropertySets">getProductPropertySets</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-communicatorService.html#.goToLoginPage">goToLoginPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-communicatorService.html#.isAuthorized">isAuthorized</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-communicatorService.html#.search">search</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-detailController.html">detailController</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-detailController.html#~addCloseClickListener">addCloseClickListener</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-detailController.html#~addDownloadClickListeners">addDownloadClickListeners</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-detailController.html#~addPropertiesTable">addPropertiesTable</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-detailController.html#~close">close</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-detailController.html#~createDownloadsSection">createDownloadsSection</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-detailController.html#~createRegionsSection">createRegionsSection</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-detailController.html#~generateImages">generateImages</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-detailController.html#~getId">getId</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-detailController.html#~init">init</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-detailController.html#~parseDate">parseDate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-detailController.html#~parsePropertyValue">parsePropertyValue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-detailController.html#~scrollToMiddle">scrollToMiddle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-detailController.html#~showProduct">showProduct</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-resultController.html">resultController</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resultController.html#.init">init</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resultController.html#~addClickListeners">addClickListeners</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resultController.html#~appendResults">appendResults</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resultController.html#~clear">clear</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resultController.html#~init">init</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resultController.html#~isOnLastRow">isOnLastRow</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resultController.html#~loading">loading</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resultController.html#~loadingMore">loadingMore</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resultController.html#~setReferenceElementId">setReferenceElementId</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-searchController.html">searchController</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-searchController.html#~addBackToTopListener">addBackToTopListener</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-searchController.html#~addClearSearchListener">addClearSearchListener</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-searchController.html#~addInfiniteScroll">addInfiniteScroll</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-searchController.html#~clear">clear</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-searchController.html#~infiniteScroll">infiniteScroll</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-searchController.html#~init">init</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-searchController.html#~isSearching">isSearching</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-searchController.html#~search">search</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-searchController.html#~timer">timer</a></span></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>BIMobject® browser</h1><p>This is BIMobject's product browser and downloader. It's a minimal project: only ~110KB minified (excluding fonts) since it uses no framework at all.
Take a look at our <a href="https://developer.bimobject.com/app/docs">API documentation</a> to read more about how to setup an app and get started!</p>
<h2>Dependencies</h2><p>To build or develop this project you need the following dependencies.</p>
<ul>
<li><code>node &gt; v8.8.1</code></li>
<li><code>npm or yarn</code></li>
</ul>
<h2>Development</h2><ul>
<li>Run <code>yarn</code> or <code>npm install</code> to install dependencies.</li>
<li>Run <code>yarn run watch</code> or <code>npm run watch</code> to build and continuously watch the <code>src/</code> folder for changes.</li>
<li>Run <code>yarn run start</code> or <code>npm run start</code> to run the electron server.</li>
</ul>
<p>This project needs a host to run properly, the idea is that you should be able to choose whatever host you want, i.e. <code>electron</code>, <code>WebBrowserControl</code>, <code>CEF</code> or similar. This is application comes with a example host application built with <code>electron</code>. Just input your own credentials in <code>openapi.js</code> to test it out.</p>
<p>If you choose some other host it is required that you attach a set of functions on the host <code>window</code>.</p>
<h2>Build</h2><p>To build this project run the following commands:</p>
<ul>
<li><code>yarn</code> to install dependencies.</li>
<li><code>yarn run build</code></li>
</ul>
<h2>The HOST interface</h2><p>An example implementation of the functions you need to provide on the HOST are located in <code>electron/app.js</code> they are exposed on the <code>window</code> object. They are used directly in <code>src/js/external/communicator.js</code> Please refer to the <a href="https://developer.bimobject.com/app/docs">API documentation</a> for further information.</p>
<pre class="prettyprint source"><code>
    /**
     * Search - The search function, will be called when user types into the search field.
     *
     * @param {type} param    The params object used in the API, for example: filter.fullText, page etc.
     * @param {type} callback The products object - { meta: {}, data: [] }
     *
     */

    window.external.search = (param, callback) => { };

     /**
      * Abort search - Aborts an ongoing XHR request
      *
      */

    window.external.abortSearch: () => { };

    /**
     * Product - The detailed product function, retrieves the product information.
     *
     * @param {type} id       The ID of the product you want more information about
     * @param {type} callback The product returned from the API
     *
     */

    window.external.product = (id, callback) => { };

    /**
     * Authentication URL - Returns the authentication url so the user can be
     * redirected to a login page to download products.
     *
     * @param {type} location The current location of the user so it can be redirected back to that location
     * @param {type} callback The authentication url
     *
     */
    window.external.authURL = (location, callback) => { };

    /**
     * Download - Downloads the selected product with a specific file format
     *
     * @param {type} productId The id of the product
     * @param {type} fileId    The id from the file
     * @param {type} callback  The downloaded binary
     *
     */
    window.external.downloadProduct = (productId, fileId, callback) => { };

    /**
     * Is user authorized - Checks if user already is authroized and if a download token exists
     *
     * @param {type} callback A boolean if the user is authorized or not
     *
     */
    window.external.isAuthorized = (callback) => { };

    /**
     * Product Property Sets - The specific product property sets for that product
     *
     * @param {type} id       The ID of the product
     * @param {type} callback The product property sets for that product
     *
     */
    window.external.productPropertySets = (id, callback) => { };</code></pre><p>There is also a special function, <code>goToLoginPage(authURL)</code>, that you have to write yourself if you decide to use anything else than <code>electron</code>. In this example implementation we use electrons <code>&lt;webview&gt;</code>.</p>
<pre class="prettyprint source"><code>goToLoginPage: (authURL) => {
    let body = document.getElementById('body');
    body.innerHTML = `&lt;webview src=&quot;${authURL}&quot;>&lt;/webview>`;
}</code></pre><h2>Webpack</h2><p><code>webpack</code> is used to build this project. It creates <code>css</code> from <code>less</code> files and transpiles ES7 to ES5 using <code>Babel</code>.</p>
<p>In the <code>webpack.config.js</code> we specify what type of files we would like to load and handle. We handle fonts, images (png, svg and jpg). If you want to switch your <code>HOST</code> environment, you have to set that in environment variables, or change the default build from <code>electron</code> to whatever you want.</p>
<h2>Folder structure</h2><pre class="prettyprint source"><code>├───dist
├───electron
└───src
    ├───assets
    │   ├───fonts
    │   ├───img
    │   └───svg
    ├───js
    │   ├───external
    │   └───templates
    │   └───controllers
    │   main.js
    └───less
    index.html
    entry.js</code></pre><p>The <code>entry.js</code> file is the entry point of the app. There we include our styles and our code. Since we are using import modules, no functions is available on global scope and can only be used inside that controller (if not exported).</p></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Mar 06 2018 08:59:39 GMT+0100 (W. Europe Standard Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>